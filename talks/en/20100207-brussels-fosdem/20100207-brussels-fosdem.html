<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>X on ePaper — FOSDEM 2010 (X.org devroom)</title>
    <!-- metadata -->
    <meta name="generator" content="S5" />
    <meta name="version" content="S5 1.3" />
    <meta name="author" content="Mikhail Gusarov" />
    <meta name="company" content="OpenInkpot project" />
    <!-- meta extensions -->
    <meta name="subject" content="OpenInkpot" />
    <meta name="creator" content="Mikhail Gusarov" />
    <meta name="robots" content="index, follow" />
    <meta name="revisit-after" content="7 days" />

    <!-- meta temporary -->
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript" />
    <meta http-equiv="Content-Style-Type" content="text/css" />

    <!-- configuration parameters -->
    <meta name="defaultView" content="slideshow" />
    <meta name="controlVis" content="hidden" />
    <!-- configuration extensions -->
    <meta name="tranSitions" content="false" />
    <meta name="fadeDuration" content="500" />
    <meta name="incrDuration" content="250" />

    <!-- style sheet links -->
    <link rel="stylesheet" href="ui/scala_gfx/slides.css" type="text/css" media="projection" id="slideProj" />
    <link rel="stylesheet" href="ui/scala_gfx/outline.css" type="text/css" media="screen" id="outlineStyle" />
    <link rel="stylesheet" href="ui/scala_gfx/print.css" type="text/css" media="print" id="slidePrint" />
    <link rel="stylesheet" href="ui/scala_gfx/opera.css" type="text/css" media="projection" id="operaFix" />

    <!-- embedded styles -->
    <style type="text/css" media="all">
      .imgcon {width: 100%; margin: 0 auto; padding: 0; text-align: center;}
      #anim {width: 33%; height: 320px; position: relative;}
      #anim img {position: absolute; top: 0px; left: 0px;}
    </style>

    <!-- S5 JS -->
    <script src="ui/scala_gfx/slides.js" type="text/javascript"></script>
  </head>
  <body>

    <div class="layout">
      <div id="controls"><!-- DO NOT EDIT --></div>
      <div id="currentSlide"><!-- DO NOT EDIT --></div>
      <div id="header"></div>
      <div id="footer">
        <h1>X on ePaper</h1>
        <h2>FOSDEM (X.org devroom) &#8226; 07.02.2010</h2>
      </div>
    </div>

    <ol class="xoxo presentation">

      <li class="slide">
        <h1>X on ePaper</h1>
        <h3>Mikhail Gusarov</h3>
        <h4>OpenInkpot project</h4>

        <div class="handout">
        </div>
      </li>


      <li class="slide">
        <h1>ePaper (a.k.a. eInk)</h1>
        <ul>
          <li><strong>Really slow</strong> screen updates (~1 fps)</li>
          <li>Keeps picture while switched off
            <ul>
              <li>Very convenient for power saving</li>
              <li>Very inconvenient if device crashes</li>
            </ul>
          </li>
          <li>800x600, 5-6" displays are common</li>
          <li>Grayscale: 2-4bpp</li>
          <li>Color? Not today</li>
          <li>Opaque reflective screen</li>
        </ul>

        <div class="notes">
        </div>
      </li>

      <li class="slide">
        <h1>Cool features</h1>
        <ul>
          <li>No need to worry about recharging</li>
          <li>Paper-like screen</li>
        </ul>
      </li>

      <li class="slide">
        <h1>Problems</h1>
        <ul>
          <li>Grayscale, low depth</li>
          <li>Extremely low FPS, every screen update is precious</li>
        </ul>
      </li>

      <li class="slide">
        <h1>Existing «solutions»</h1>
        <ul>
          <li>
            Framebuffer, DirectFB or patched Nano-X with explicit «refresh screen» operation
            <ul>
              <li>Hard to develop and debug</li>
              <li>Does not match X</li>
              <li>(Sony PRS, Kindle, Hanlin, PocketBook)</li>
            </ul>
          </li>
          <li>
            X and one-off extension: shared library, patched toolkit
            <ul>
              <li>Same problems</li>
              <li>iLiad: shared library</li>
              <li>Nook: specific Qt extension talking to hardware</li>
            </ul>
          </li>
        </ul>
      </li>

      <li class="slide">
        <h1>Current OpenInkpot approach</h1>
        <ul>
          <li>Dumb Xfbdev X server</li>
          <li>
            <span style="font-family: monospace">deferred_io</span> framebuffer
            <ul>
              <li>Data is batched in kernel</li>
              <li>Framebuffer writes cause pagefaults</li>
              <li>Timeout for screen refresh</li>
            </ul>
          </li>
          <li>Works reasonably well (with quirks)</li>
          <li>~0.3s delay</li>
        </ul>
      </li>

      <li class="slide">
        <h1><span style="font-family: monospace">deferred_io</span> limitations</h1>
        <ul>
          <li>Does not handle small updates (menus, cursors, keyboard input) well</li>
          <li>Lack of synchronization between apps</li>
          <li>Hard to switch "waveforms" for faster specific cases (pure white&lt;->black transition)</li>
          <li>Unavoidable timeout</li>
        </ul>
      </li>

      <li class="slide">
        <h1>Future work</h1>
        <ul>
          <li>
            Client-side:
            <ul>
              <li>Extension "I did my share of drawing"</li>
              <li>Extension "I believe next time my window will look like this"</li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="slide">
        <h1>Future work(2)</h1>
        <ul>
          <li>
            Server-side, «real» X and kernel drivers:
            <ul>
              <li>More granular screen update (not limited by page size)</li>
              <li>Faster redraw (combined with new extension and probably Damage)</li>
            </ul>
          </li>
          <li>Is it feasible?</li>
        </ul>
      </li>

      <li class="slide" style="padding-top: 1em">
        <span style="text-align:center; display:block;"><object data="openinkpot-logo.svg" type="image/svg+xml" height="230" width="600"> <img width="400" src="openinkpot-logo.svg"/> </object></span>
        <ul>
          <li>2 years, ~5 core team members, lot of file formats supported (thanks to FBreader)</li>
          <li>
            Two types of eBook readers supported
            <ul>
              <li><b>Hanlin V3</b> (a.k.a. Astak EZ Reader 6", ECO Reader, Digibook Reader, BeBook, Papyre 6.1, Koobe V3, lBook V3, lBook V3ext, lBook V3new, Walkbook</li>
              <li><b>Hanvon N516</b> (a.k.a. Azbooka 516, Woxter Scriba 150). Azbooka 516 comes preinstalled with OpenInkpot.</li>
            </ul>
          </li>
          <li>Kernel hackers are welcome to add more devices</li>
          <li>http://openinkpot.org/ and #openinkpot @ OFTC</li>
        </ul>
      </li>
    </ol>
  </body>
</html>
